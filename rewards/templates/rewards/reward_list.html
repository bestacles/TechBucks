{% extends 'base.html' %}

{% block content %}
<h2>Available Rewards</h2>

<form method="get">
    <label for="sort">Sort by:</label>
    <select name="sort" id="sort" onchange="this.form.submit()">
        <option value="name">Name</option>
        <option value="cost">Cost</option>
        <option value="category">Category</option>
    </select>
</form>

<div class="rewards-list">
    {% for reward in rewards %}
    <div class="reward-item">
        <h3>{{ reward.name }} ({{ reward.cost }} points)</h3>
        <p>{{ reward.description }}</p>
        <p>Category: {{ reward.category }}</p>
        <img src="{{ reward.qr_code.url }}" alt="QR Code for {{ reward.name }}">
        <p>Reward ID: {{ reward.unique_id }}</p>
        <a href="{% url 'rewards:redeem_reward' reward.id %}" class="btn btn-primary">Redeem</a>
    </div>
    {% endfor %}
</div>
{% endblock %}
